import{m as f,D as rt,I as $,u as z,j as q,B as at,p as st,g as n,a as r,d as s,h as nt,w as u,b as t,k,o as d,t as c,e as Z,n as y,F as m,s as g,J as H,N as W,f as h,i as v,O as dt}from"./app-op-B2CDG.js";import{_ as lt}from"./AuthenticatedLayout-guuhkCIl.js";import{_ as p,a as w}from"./TextInput-dAW3WACc.js";import{_ as G,a as J,D as it}from"./DangerButton-BOSBGCtt.js";import{P as K}from"./PrimaryButton-DF2z2JaN.js";import{_}from"./FloatingDollar-r6d6gQ2s.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ct={class:"fixed inset-0 pointer-events-none overflow-hidden z-0"},bt={class:"relative z-10 pb-32 lg:pb-20"},ut={class:"border-b-2 border-black dark:border-white/20 pb-4 mb-8 flex flex-col md:flex-row justify-between items-start md:items-end transition-colors duration-500 gap-4",initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:800,ease:"easeOut"}}},pt={class:"font-mono text-[10px] border-2 border-black dark:border-white/20 px-3 py-1 bg-white dark:bg-[#1A1A1A] dark:text-white uppercase font-black tracking-widest shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.05)]"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-8 items-stretch pb-20"},kt={class:"md:col-span-1 flex flex-col",initial:{opacity:0,scale:.98},enter:{opacity:1,scale:1,transition:{duration:1e3,ease:"easeOut",delay:100}}},ft={class:"bg-white dark:bg-[#1A1A1A] border-2 border-black dark:border-white/20 p-6 transition-colors duration-500 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,0.05)] md:h-full md:sticky md:top-24 flex flex-col"},mt={class:"space-y-6 flex-grow flex flex-col"},gt={class:"grid grid-cols-1 gap-2 mt-1"},ht=["value"],wt={class:"relative mt-1"},yt={class:"flex-grow flex flex-col min-h-[150px]"},vt={class:"pt-8"},_t={id:"transaction-archives",class:"md:col-span-2 flex flex-col",initial:{opacity:0},enter:{opacity:1,transition:{duration:1e3,ease:"easeOut",delay:300}}},Dt={class:"mb-8"},At={class:"relative w-full"},Ct={class:"border-t-4 border-b-4 border-black dark:border-white min-h-[500px] flex-grow transition-colors duration-500 overflow-hidden"},Vt={class:"hidden md:block overflow-x-auto h-full"},Tt={class:"w-full text-left h-full"},Mt={class:"px-3 py-1.5 font-mono text-[10px] border-r border-gray-300 dark:border-white/10 dark:text-gray-300"},jt={class:"px-3 py-1.5 border-r border-gray-300 dark:border-white/10 dark:text-white"},St={class:"font-bold text-xs"},Ot={key:0,class:"text-[9px] italic text-gray-500 dark:text-gray-400 font-mono mt-0.5 truncate max-w-[150px]"},$t={class:"px-3 py-1.5 text-right font-mono text-xs border-r border-gray-300 dark:border-white/10"},Bt={class:"px-2 py-1.5 text-center space-x-1"},Ut=["onClick"],Et=["onClick"],Rt={class:"md:hidden divide-y divide-black dark:divide-white/10 bg-white dark:bg-[#1A1A1A]"},Ft={key:0,class:"px-4 py-8 text-center italic text-gray-500 dark:text-gray-400 font-serif"},Nt={class:"flex justify-between items-start mb-2"},It={class:"font-mono text-[10px] uppercase text-gray-400"},Lt={class:"flex space-x-2"},Pt=["onClick"],zt=["onClick"],qt={class:"flex justify-between items-end"},Zt={class:"font-serif font-black text-lg dark:text-white uppercase tracking-tight"},Ht={key:0,class:"text-[9px] italic text-gray-500 dark:text-gray-400 font-mono mt-1"},Wt={class:"text-right"},Gt={key:0,class:"mt-12 flex justify-center pb-10"},Jt={class:"flex items-center space-x-3 bg-white dark:bg-[#1A1A1A] px-4 py-2 border-2 border-black dark:border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.05)] transition-colors"},Kt=["value"],Qt=["value"],Xt={class:"p-8 bg-white dark:bg-[#1A1A1A] border-2 border-black dark:border-white/20 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transition-colors duration-500"},Yt=["value"],te={class:"mt-8 flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-white/10"},ee={class:"p-8 bg-white dark:bg-[#1A1A1A] border-2 border-black dark:border-white/20 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transition-colors duration-500"},oe={class:"mt-8 flex justify-end gap-3"},ce={__name:"Index",props:{transactions:Object,categories:Array,filters:Object},setup(b){var L;const D=b,A=f(((L=D.filters)==null?void 0:L.search)||"");let B=null;rt(A,a=>{clearTimeout(B),B=setTimeout(()=>{$.get(route("transactions.index"),{search:a},{preserveState:!0,preserveScroll:!0,replace:!0,onFinish:()=>{window.lenis&&window.lenis.scrollTo("#transaction-archives",{offset:-120})}})},750)});const i=z({type:"expense",category_id:"",amount:"",transaction_date:new Date().toISOString().substr(0,10),note:""}),U=a=>{i.type=a,i.category_id=""},Q=()=>{i.post(route("transactions.store"),{onSuccess:()=>i.reset("amount","note")})},C=f(null),V=f(!1),l=z({category_id:"",amount:"",transaction_date:"",note:"",type:""}),E=a=>{C.value=a,l.category_id=a.category_id,l.amount=a.amount,l.transaction_date=a.transaction_date,l.note=a.note,l.type=a.type,V.value=!0},T=()=>{V.value=!1,C.value=null,l.reset()},X=()=>{l.put(route("transactions.update",C.value.id),{onSuccess:()=>T()})},M=f(!1),j=f(null),R=a=>{j.value=a,M.value=!0},S=()=>{M.value=!1,j.value=null},Y=()=>{$.delete(route("transactions.destroy",j.value),{onSuccess:()=>S()})},F=a=>new Intl.NumberFormat("id-ID",{style:"decimal",minimumFractionDigits:0}).format(a),N=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"2-digit"}).toUpperCase(),tt=q(()=>D.categories.filter(a=>a.type===i.type)),et=q(()=>D.categories.filter(a=>a.type===l.type)),ot=a=>{$.visit(a.target.value,{preserveState:!0,preserveScroll:!0,onFinish:()=>{window.lenis&&window.lenis.scrollTo("#transaction-archives",{offset:-120})}})},I=f(!1);return at(()=>{I.value=document.documentElement.classList.contains("dark"),new MutationObserver(()=>{I.value=document.documentElement.classList.contains("dark")}).observe(document.documentElement,{attributes:!0})}),(a,e)=>{const O=st("motion");return d(),n(m,null,[r(s(nt),{title:"Transactions"}),r(lt,null,{default:u(()=>{var P;return[t("div",ct,[r(_,{class:"absolute top-[15%] left-[10%] w-24 h-24",duration:4e3,rotateRange:10,yOffset:20,opacity:.5}),r(_,{class:"absolute top-[70%] left-[5%] w-36 h-36",duration:6e3,rotateRange:-15,yOffset:30,delay:300,opacity:.5}),r(_,{class:"absolute top-[30%] right-[15%] w-32 h-32",duration:5e3,rotateRange:12,yOffset:25,delay:600,opacity:.5}),r(_,{class:"absolute top-[85%] right-[5%] w-40 h-40",duration:7e3,rotateRange:-8,yOffset:40,delay:100,opacity:.5})]),t("div",bt,[k((d(),n("div",ut,[e[11]||(e[11]=t("div",null,[t("h2",{class:"font-serif text-3xl font-bold text-black dark:text-white uppercase tracking-wide"}," Transactions "),t("p",{class:"font-mono text-xs mt-1 text-gray-600 dark:text-gray-400"}," A history of your money in and out ")],-1)),t("div",pt," Page "+c(b.transactions.current_page)+" of "+c(b.transactions.last_page),1)])),[[O]]),t("div",xt,[k((d(),n("div",kt,[t("div",ft,[e[15]||(e[15]=t("h3",{class:"font-serif font-bold text-xl border-b-2 border-black dark:border-white/20 pb-2 mb-6 dark:text-white"}," Add Entry ",-1)),t("form",{onSubmit:Z(Q,["prevent"]),class:"space-y-6 flex-grow flex flex-col justify-between"},[t("div",mt,[t("div",null,[r(p,{value:"Type",class:"font-mono uppercase text-[10px] font-bold dark:text-gray-400"}),t("div",gt,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>U("income")),class:y(["py-3 text-[10px] font-bold uppercase tracking-widest transition-colors border-2 border-black dark:border-white/20",s(i).type==="income"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-gray-500 dark:bg-[#1A1A1A] hover:bg-gray-100"])},"Income (+)",2),t("button",{type:"button",onClick:e[1]||(e[1]=o=>U("expense")),class:y(["py-3 text-[10px] font-bold uppercase tracking-widest transition-colors border-2 border-black dark:border-white/20",s(i).type==="expense"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-gray-500 dark:bg-[#1A1A1A] hover:bg-gray-100"])},"Outcome (-)",2)])]),t("div",null,[r(p,{value:"Date",class:"font-mono uppercase text-[10px] font-bold dark:text-gray-400"}),r(w,{type:"date",class:"mt-1 block w-full rounded-none border-2 border-black dark:border-white/20 focus:ring-0 focus:border-black bg-white dark:bg-[#0D0D0D] dark:text-white font-mono text-sm h-11",modelValue:s(i).transaction_date,"onUpdate:modelValue":e[2]||(e[2]=o=>s(i).transaction_date=o),required:""},null,8,["modelValue"])]),t("div",null,[r(p,{value:"Category",class:"font-mono uppercase text-[10px] font-bold dark:text-gray-400"}),k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s(i).category_id=o),class:"mt-1 block w-full rounded-none border-black dark:border-white/20 focus:ring-0 focus:border-black bg-white dark:bg-[#0D0D0D] dark:text-white font-serif text-sm h-11",required:""},[e[12]||(e[12]=t("option",{value:"",disabled:""},"-- Select Category --",-1)),(d(!0),n(m,null,g(tt.value,o=>(d(),n("option",{key:o.id,value:o.id},c(o.name),9,ht))),128))],512),[[H,s(i).category_id]])]),t("div",null,[r(p,{value:"Amount",class:"font-mono uppercase text-[10px] font-bold dark:text-gray-400"}),t("div",wt,[e[13]||(e[13]=t("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center font-mono text-sm dark:text-gray-500 pointer-events-none"},"Rp",-1)),r(w,{type:"number",class:"block w-full pl-10 rounded-none border-black dark:border-white/20 focus:ring-0 focus:border-black bg-white dark:bg-[#0D0D0D] dark:text-white font-mono h-11",modelValue:s(i).amount,"onUpdate:modelValue":e[4]||(e[4]=o=>s(i).amount=o),required:""},null,8,["modelValue"])])]),t("div",yt,[r(p,{value:"Note",class:"font-mono uppercase text-[10px] font-bold dark:text-gray-400"}),k(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=o=>s(i).note=o),placeholder:"Details...",class:"mt-1 block w-full flex-grow rounded-none border-black dark:border-white/20 focus:ring-0 focus:border-black dark:focus:border-white bg-white dark:bg-[#0D0D0D] dark:text-white font-serif italic text-sm resize-none p-3"},null,512),[[W,s(i).note]])])]),t("div",vt,[r(K,{disabled:s(i).processing,class:"w-full justify-center py-4 text-sm"},{default:u(()=>[...e[14]||(e[14]=[h("Add Record",-1)])]),_:1},8,["disabled"])])],32)])])),[[O]]),k((d(),n("div",_t,[t("div",Dt,[t("div",At,[k(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>A.value=o),placeholder:"Search transactions...",class:"w-full border-b-2 border-black dark:border-white/20 border-t-0 border-l-0 border-r-0 bg-transparent px-0 py-3 font-mono text-sm focus:border-black dark:focus:border-white focus:ring-0 dark:text-white"},null,512),[[W,A.value]]),e[16]||(e[16]=t("div",{class:"absolute right-0 top-3 dark:text-white/50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1))])]),t("div",Ct,[t("div",Vt,[t("table",Tt,[e[19]||(e[19]=t("thead",{class:"bg-black text-white dark:bg-white dark:text-black font-mono text-[10px] uppercase tracking-wider"},[t("tr",null,[t("th",{class:"px-3 py-2 font-normal border-r border-white dark:border-black"},"Date"),t("th",{class:"px-3 py-2 font-normal border-r border-white dark:border-black"},"Category"),t("th",{class:"px-3 py-2 font-normal border-r border-white dark:border-black text-right"},"Amount"),t("th",{class:"px-4 py-2 font-normal w-24 text-center"},"Actions")])],-1)),r(dt,{tag:"tbody",name:"list",appear:"",class:"divide-y divide-black dark:divide-white/10 font-serif text-sm"},{default:u(()=>[(d(!0),n(m,null,g(b.transactions.data,o=>(d(),n("tr",{key:o.id,class:"hover:bg-yellow-50 dark:hover:bg-white/5 transition-colors group"},[t("td",Mt,c(N(o.transaction_date)),1),t("td",jt,[t("div",St,c(o.category.name),1),o.note?(d(),n("div",Ot,'"'+c(o.note)+'"',1)):v("",!0)]),t("td",$t,[t("span",{class:y(o.type==="income"?"text-black dark:text-white font-bold":"text-gray-500 dark:text-gray-400")},c(o.type==="income"?"+":"-")+" "+c(F(o.amount)),3)]),t("td",Bt,[t("button",{onClick:x=>E(o),class:"p-1.5 transition-all border border-black/10 dark:border-white/10 hover:border-black dark:hover:border-white text-black dark:text-white",title:"Edit Record"},[...e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),t("path",{d:"m15 5 4 4"})],-1)])],8,Ut),t("button",{onClick:x=>R(o.id),class:"p-1.5 transition-all border border-black/10 dark:border-white/10 hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black text-black dark:text-white",title:"Delete Record"},[...e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),t("line",{x1:"14",x2:"14",y1:"11",y2:"17"})],-1)])],8,Et)])]))),128))]),_:1})])]),t("div",Rt,[b.transactions.data.length===0?(d(),n("div",Ft,"No records found.")):v("",!0),(d(!0),n(m,null,g(b.transactions.data,o=>(d(),n("div",{key:o.id,class:"p-4"},[t("div",Nt,[t("span",It,c(N(o.transaction_date)),1),t("div",Lt,[t("button",{onClick:x=>E(o),class:"p-2 border border-black dark:border-white text-black dark:text-white transition-colors"},[...e[20]||(e[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),t("path",{d:"m15 5 4 4"})],-1)])],8,Pt),t("button",{onClick:x=>R(o.id),class:"p-2 border border-black dark:border-white text-black dark:text-white transition-colors"},[...e[21]||(e[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),t("line",{x1:"14",x2:"14",y1:"11",y2:"17"})],-1)])],8,zt)])]),t("div",qt,[t("div",null,[t("div",Zt,c(o.category.name),1),o.note?(d(),n("div",Ht,'"'+c(o.note)+'"',1)):v("",!0)]),t("div",Wt,[t("span",{class:y(["font-mono text-lg font-black",o.type==="income"?"text-black dark:text-white":"text-gray-500 dark:text-gray-400"])},c(o.type==="income"?"+":"-")+" "+c(F(o.amount)),3)])])]))),128))])]),b.transactions.last_page>1?(d(),n("div",Gt,[t("div",Jt,[e[22]||(e[22]=t("span",{class:"font-mono text-[10px] font-bold uppercase text-gray-400"},"Page:",-1)),t("select",{value:(P=b.transactions.links.find(o=>o.active))==null?void 0:P.url,onChange:ot,class:"border-none bg-transparent font-mono text-sm font-black focus:ring-0 py-0 pl-3 pr-10 cursor-pointer hover:underline text-black dark:text-white"},[(d(!0),n(m,null,g(Array.from({length:b.transactions.last_page},(o,x)=>x+1),o=>{var x;return d(),n("option",{key:o,value:((x=b.transactions.links[o])==null?void 0:x.url)||`${a.route("transactions.index")}?page=${o}`,class:"dark:bg-[#1A1A1A]"},c(o)+" OF "+c(b.transactions.last_page),9,Qt)}),128))],40,Kt)])])):v("",!0)])),[[O]])])]),r(G,{show:V.value,onClose:T,maxWidth:"md"},{default:u(()=>[t("div",Xt,[e[25]||(e[25]=t("h2",{class:"font-serif text-2xl font-black text-black dark:text-white uppercase border-b-2 border-black dark:border-white/20 pb-2 mb-6"}," Modify Record ",-1)),t("form",{onSubmit:Z(X,["prevent"]),class:"space-y-5"},[t("div",null,[r(p,{value:"Category",class:"font-mono text-[10px] font-bold uppercase text-gray-400"}),k(t("select",{"onUpdate:modelValue":e[7]||(e[7]=o=>s(l).category_id=o),class:"mt-1 block w-full rounded-none border-2 border-black dark:border-white/20 bg-white dark:bg-[#0D0D0D] dark:text-white font-serif text-sm focus:ring-0"},[(d(!0),n(m,null,g(et.value,o=>(d(),n("option",{key:o.id,value:o.id},c(o.name),9,Yt))),128))],512),[[H,s(l).category_id]])]),t("div",null,[r(p,{value:"Amount",class:"font-mono text-[10px] font-bold uppercase text-gray-400"}),r(w,{type:"number",class:"mt-1 block w-full rounded-none border-2 border-black dark:border-white/20 bg-white dark:bg-[#0D0D0D] dark:text-white font-mono",modelValue:s(l).amount,"onUpdate:modelValue":e[8]||(e[8]=o=>s(l).amount=o)},null,8,["modelValue"])]),t("div",null,[r(p,{value:"Date",class:"font-mono text-[10px] font-bold uppercase text-gray-400"}),r(w,{type:"date",class:"mt-1 block w-full rounded-none border-2 border-black dark:border-white/20 bg-white dark:bg-[#0D0D0D] dark:text-white font-mono",modelValue:s(l).transaction_date,"onUpdate:modelValue":e[9]||(e[9]=o=>s(l).transaction_date=o)},null,8,["modelValue"])]),t("div",null,[r(p,{value:"Note",class:"font-mono text-[10px] font-bold uppercase text-gray-400"}),r(w,{type:"text",class:"mt-1 block w-full rounded-none border-2 border-black dark:border-white/20 bg-white dark:bg-[#0D0D0D] dark:text-white font-serif italic",modelValue:s(l).note,"onUpdate:modelValue":e[10]||(e[10]=o=>s(l).note=o)},null,8,["modelValue"])]),t("div",te,[r(J,{onClick:T,class:"px-6"},{default:u(()=>[...e[23]||(e[23]=[h("Cancel",-1)])]),_:1}),r(K,{disabled:s(l).processing,class:"px-6"},{default:u(()=>[...e[24]||(e[24]=[h("Update Record",-1)])]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),r(G,{show:M.value,onClose:S,maxWidth:"md"},{default:u(()=>[t("div",ee,[e[28]||(e[28]=t("h2",{class:"font-serif text-xl font-black text-black dark:text-white uppercase border-b border-black dark:border-white/20 pb-2 mb-4"},"Confirm Deletion",-1)),e[29]||(e[29]=t("p",{class:"font-serif text-base text-gray-800 dark:text-gray-300 italic"},'"Are you sure you want to delete this record? This action is permanent."',-1)),t("div",oe,[r(J,{onClick:S,class:"px-6"},{default:u(()=>[...e[26]||(e[26]=[h("Abort",-1)])]),_:1}),r(it,{class:"px-6 !bg-red-600 !text-white",onClick:Y},{default:u(()=>[...e[27]||(e[27]=[h("Delete",-1)])]),_:1})])])]),_:1},8,["show"])]}),_:1})],64)}}};export{ce as default};
